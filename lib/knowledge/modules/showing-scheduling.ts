import { KnowledgeModule } from '../types'

export const showingSchedulingModule: KnowledgeModule = {
  id: 'showing-scheduling',
  name: 'Showing Scheduling & Agent Contact',
  description: 'Tactical guidance for scheduling showings, contacting agents, and self-representation scripts',
  priority: 5,
  enabled: true,
  content: `## SHOWING SCHEDULING EXPERTISE

### EMAIL-FIRST APPROACH (RECOMMENDED)
Most listing agents want to see proof of financing BEFORE they'll take time to schedule a showing. The most effective approach is:

1. **Get the agent's email** (call or text to request it)
2. **Email your pre-approval letter + signed waiver** before asking to schedule
3. **Then call to schedule** once they've seen you're a serious, qualified buyer

This shows you're professional and saves everyone time.

### When User Shares a Property Link
When a user shares a property listing link or says they want to schedule a showing:

1. **Acknowledge the listing and extract agent info if available**
2. **Recommend the EMAIL-FIRST approach** — get the agent's email to send documents
3. **Provide both the call script AND email template**

### STEP 1: CALL SCRIPT TO GET AGENT'S EMAIL

Tell the user to say (use their actual name if known):
---
**Opening:**
"Hi, this is [USER'S NAME]. I'm calling about the property at [ADDRESS]. I'm a self-represented buyer interested in scheduling a showing."

**Request Email:**
"I have my pre-approval letter ready and a signed Self-Representation Waiver. Could you text or give me your email address so I can send those over? Most agents like to see pre-qualification before scheduling."

**If they give email:**
"Perfect, I'll send those right over. Once you've had a chance to review, I'd love to schedule a showing — would [DAY] at [TIME] work?"

**If they want to schedule directly:**
"Great! I'll bring my pre-approval letter and signed waiver to the showing. What's the best way to access the property — will you be there or is there a lockbox?"
---

### STEP 2: EMAIL TEMPLATE

Once user has the agent's email, provide this template:
---
**Subject:** Pre-Qualified Self-Represented Buyer - [PROPERTY ADDRESS]

Hi [AGENT NAME],

I'm interested in scheduling a showing for [PROPERTY ADDRESS]. I'm a pre-approved, self-represented buyer.

Attached please find:
1. My pre-approval letter from [LENDER NAME]
2. Signed Self-Representation Waiver

I'm available [LIST 2-3 TIMES]. Please let me know what works best for the seller's schedule.

Thank you,
[YOUR NAME]
[YOUR PHONE]
---

### SELF-REPRESENTATION WAIVER

**HOW TO GET THE WAIVER:**
Tell the user: "You have two options for the Self-Representation Waiver:

**Option 1 - Download Ready-to-Use Template:**
Download the waiver directly: **[baireapp.com/api/waiver](https://baireapp.com/api/waiver)** — this will download a Word-compatible document you can fill in, print, and sign.

**Option 2 - Copy & Paste:**
1. Copy the waiver text below into a Word document (or Google Doc)
2. Fill in your name and the property address
3. Print, sign, and date the document
4. Scan or photograph the signed document to email to the agent
5. Bring 2 printed copies to the showing (one for you, one for the agent)

**Note: This is a template for educational purposes. BAIRE is not a law firm — have an attorney review if you want legal certainty.**"

---

**SELF-REPRESENTATION WAIVER**

I, _________________________ ("Buyer"), am interested in viewing and potentially purchasing the property located at:

Property Address: _____________________________________________

I acknowledge and understand the following:

1. **Self-Representation**: I am choosing to represent myself in this real estate transaction without a buyer's agent.

2. **Right to Representation**: I understand I have the right to hire a licensed real estate agent to represent my interests, and I am voluntarily waiving this right.

3. **No Agency Relationship**: I understand that the listing agent represents the SELLER's interests, not mine. The listing agent has no fiduciary duty to me.

4. **No Legal or Financial Advice**: I understand that neither the listing agent nor the seller is providing me with legal, tax, or financial advice. I will seek independent professional advice as needed.

5. **Due Diligence**: I accept responsibility for conducting my own due diligence, including but not limited to: property inspections, title searches, reviewing disclosures, and understanding contract terms.

6. **Commission Acknowledgment**: I understand that any commission negotiations are between myself and the seller/listing agent, and are separate from the purchase price.

Buyer Signature: _________________________ Date: _____________

Buyer Printed Name: _________________________

---

### WHY EMAIL-FIRST WORKS BETTER

Explain to users:
- Agents are busy — they prioritize buyers who are clearly qualified
- Sending docs BEFORE the call shows you're serious and organized
- Pre-approval proof eliminates "tire kicker" concerns
- The signed waiver removes their liability worries upfront
- You'll get faster responses and better treatment

### COMMON LISTING AGENT OBJECTIONS & RESPONSES

**"We prefer to work with agents"**
→ User should say: "I understand. I'm well-prepared with financing in place and I've done my research. I'll make the process easy for you — I've already sent my pre-approval and waiver."

**"You should really have an agent"**
→ User should say: "I appreciate the advice. I've made an informed decision to self-represent. I have resources to help me through the process and I'll have an attorney review contracts."

**"I can't show you the property without an agent"**
→ User should say: "Actually, since the NAR settlement in August 2024, buyers aren't required to have agents. I've already sent you my signed waiver acknowledging I'm self-represented. Would you be able to show the property?"

### BEFORE THE SHOWING CHECKLIST

Remind users to prepare:
- [ ] Pre-approval letter from lender (bring printed copy)
- [ ] Signed Self-Representation Waiver (bring 2 printed copies)
- [ ] Photo ID
- [ ] List of questions about the property
- [ ] Phone to take photos/video (ask permission first)
- [ ] Notes on comparable sales in the area`
}
